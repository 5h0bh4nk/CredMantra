<app-navbar></app-navbar >
<div class="row loan_page">
    <div class="col-md-5 loan_image">
        <img src="../../../assets/loan.png" alt="loan" />
    </div>
    <ng-container [ngSwitch]="true">
    <div *ngSwitchCase="current_stage===1" class="col-md-7 loan_form">
        <h3> Apply for Personal Loan </h3>
        <ul>
                <div class="row parent">
                    <div class="col-2 child">
                        <img src="../../../assets/check-mark.png" alt="tick" />
                    </div>
                    <div class="col-9 child" style="text-align:left;margin:auto 0;">
                        Compare and choose the best Offer 
                    </div> 
                </div>
                <div class="row parent">
                    <div class="col-2 child">
                        <img src="../../../assets/check-mark.png" alt="tick" />
                    </div>
                    <div class="col-9 child" style="text-align:left;margin:auto 0;">
                        Check Loan Amount Eligibility
                    </div> 
                </div>
                <div class="row parent">
                    <div class="col-2 child">
                        <img src="../../../assets/check-mark.png" alt="tick" />
                    </div>
                    <div class="col-9 child" style="text-align:left;margin:auto 0;">
                        Know your approval chances
                    </div> 
                </div>
        </ul>
        <br>
        <br>
        
        <button on-click="handleProceed()" class="btn btn-primary">Proceed</button>
    </div>
    <div *ngSwitchCase="current_stage===2" class="col-md-7 loan_form">
    <form [formGroup]="personalDetails">
        <h3> Personal Loan Application </h3>
        <mat-stepper labelPosition="bottom" #stepper>
        <mat-step [editable]="isEditable">
            <ng-template matStepLabel>Personal Details</ng-template>
            <div class="col-md-12" style="padding-bottom:10px;">
                <input type="text" required class="form-control" placeholder="Phone no." id="phone" formControlName="phone">
            </div>
            <div class="row">
                <div class="col-md-6">
                <input type="text" required class="form-control" placeholder="Name" id="name" formControlName="name">
                </div>
                <div class="col-md-6">
                    <select formControlName="gender" id="gender">
                        <option value="male"> Male </option>
                        <option value="female"> Female </option>
                        <option value="preferNotSay"> Prefer Not Say </option>
                    </select>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col">
                <input type="email" id="email" formControlName="email" class="form-control" placeholder="Email ID">
                </div>
                <div class="col">
                <input type="text" id="amount" formControlName="loan_amount"  class="form-control" placeholder="Loan Required">
                </div>
            </div>
            <br>
            <mat-divider></mat-divider>
            <br>
            <div class="next_button">
            <button class="btn btn-primary" mat-button matStepperNext>Save and Next > </button>
            </div>		
        </mat-step>
        <mat-step [editable]="isEditable">
            <ng-template matStepLabel>Employment Details</ng-template>
            <h4> Employment Type </h4>
            
            <div class="row">
                <select formControlName="employment_type" id="employment_type">
                    <option value="salaried"> Salaried </option>
                    <option value="self_employed"> Self Employed </option>
                    <option value="self_employed_business"> Self Employed Business </option>
                    <option value="others"> Others </option>
                </select>
            </div>
            <br>

            <mat-divider></mat-divider>
            <br>
            <h4> Income </h4>
            
            <div class="row">
                <select formControlName="income" id="income">
                    <option value="upto_3_lacs"> Upto 3 lakhs </option>
                    <option value="3-4lacs"> 3-4 Lakhs </option>
                    <option value="4-5lacs"> 4-5 Lakhs </option>
                    <option value="5lacs+"> More than 5 Lakhs </option>
                </select>
            </div>
            
            <br>
            <mat-divider></mat-divider>
            <br>
            <div class="next_button">
            <button class="btn btn-primary" mat-button matStepperNext>Save and Next > </button>
            </div>
        </mat-step>
        <mat-step [editable]="isEditable">
            <ng-template matStepLabel>Current Address</ng-template>
            
            <div class="row">
                <div class="col">
                <input type="text" formControlName="pincode" class="form-control" placeholder="Pincode">
                </div>
                <div class="col">
                <input type="text"  formControlName="city" class="form-control" placeholder="City">
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col">
                <input type="text" formControlName="state" class="form-control" placeholder="State">
                </div>
                <div class="col">
                    <select formControlName="residence" id="residence">
                        <option value="owned by self/spouse"> Owned by self/spouse </option>
                        <option value="owned by parents/siblings"> Owned by parents/siblings </option>
                        <option value="paying guests"> Paying guests </option>
                        <option value="rented with family"> Rented with family </option>
                        <option value="company provided"> Company Provided </option>
                    </select>
                </div>
            </div>
            
            <br>
            <mat-divider></mat-divider>
            <br>
            <div class="next_button">
                <button class="btn btn-primary" mat-button matStepperNext type="submit" on-click="onSubmit()"> GET A CALL > </button>
            </div>
        </mat-step>
        <mat-step [editable]="isEditable">
            <ng-template matStepLabel>Done</ng-template>
            <h2><b>Thank you for applying</b></h2>
            <p>your application is successfully submitted.our team will get back to you 24 hours </p>
            <mat-divider></mat-divider>
            <br>
            <div class="next_button">
                <button class="btn btn-primary" mat-button matStepperNext> &lt; back to home  </button>
            </div>
        </mat-step>
        </mat-stepper>
    </form>
    </div>
    </ng-container>
</div>
